<head>
        <script src="../angular-audio-recorder.min.js"></script>

</head>
<style>
.secondary{
    color: #fff;
    background-color: #6c757d;
    border-color: #6c757d;
}
/* Prevent scrollbars to appear when waves go out of bound */
.sonar-wrapper {
  position: relative;
  z-index: 0;
  overflow: hidden;
  padding: 8px;
}

/* The circle */
.sonar-emitter {
  position: relative;
  margin: 0 auto;
  width: 30px;
  height: 30px;
  border-radius: 9999px;
  background-color: red;
}

/* the 'wave', same shape and size as its parent */
.sonar-wave {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 9999px;
  background-color: red;
  opacity: 0;
  z-index: -1;
  pointer-events: none;
}

/*
  Animate!
  NOTE: add browser prefixes where needed.
*/
.sonar-wave {
  animation: sonarWave 2s linear infinite;
}

@keyframes sonarWave {
  from {
    opacity: 0.4;
  }
  to {
    transform: scale(3);
    opacity: 0;
  }
}
</style>
<div id="scopeOfChannel" ng-controller="AudioChannelController">
       
            <ng-audio-recorder id='audioInput' on-record-start="start()" on-record-complete="stop(recorder.audioModel)"show-player="false"  audio-model='recordedInput'>
                     <div ng-if="recorder.isAvailable">
                            
                       <button ng-click="recorder.startRecord()" class="btn btn-default"type="button" ng-disabled="recorder.status.isRecording">
                           Start Record <i  class="fas fa-microphone fa-1x "  aria-hidden="false"></i>
                       </button>
                       <button ng-click="recorder.stopRecord()" class="btn btn-default" type="button" ng-disabled="recorder.status.isRecording === false">
                           Stop Record <i  class="fas fa-microphone-slash fa-1x "  aria-hidden="false"></i>
                       </button>
                       <!-- <button ng-click="recorder.playbackRecording()" class="btn btn-default" type="button"
                               ng-disabled="recorder.status.isRecording || !recorder.audioModel">
                           Play Back <i  class="fas fa-play fa-1x "  aria-hidden="false"></i>
                       </button> -->
                       
                      
                     </div>
                  
                     <div ng-if="!recorder.isAvailable">
                       Message for users when recording is not possible.
                     </div>
                    
                   </ng-audio-recorder>
                   <div ng-if="isrec"><div class="sonar-wrapper">
                        
                        <div style="margin-bottom: 11px;"class="sonar-emitter">
                                <button class="btn btn-default" style="margin-left: -99px;
                                background-color: #004c97;
                                font-size: large;
                                font-family: inherit;
                                color: white;
                                border-radius: 29px;">{{minutes|numberpad:2}}:{{seconds|numberpad:2}}</button>   <div class="sonar-wave"></div>
                      </div>
                    </div></div>
                    <div ng-if="recordedInput">
                            <p style="font-weight: bold;
                            margin-left: 1%;
                            font-size: medium;">Recorder playback </p>
                            <audio controls>
                                    <source src="{{recordedUrl}}" type="audio/ogg">
                                    <source src="{{recordedUrl}}" type="audio/mpeg">
                                  Your browser does not support the audio element.
                                  </audio></div>  
                    
        <span ng-repeat="item in audioArray">
      <p style="font-weight: bold;
      margin-left: 1%;
      font-size: medium;">{{item.channelName}} &nbsp; <button ng-class="{'btn-success':isPushSuccess && $index == selectedIndex,
      'secondary': $index != selectedIndex ,
    'btn-warning':$index == selectedIndex && !isPushSuccess}" 
       ng-disabled="isPushClicked" ng-click="pushToTalk(item,$index)" class="btn "> <span ng-if=" $index != selectedIndex">push to talk <i  class="fas fa-microphone-alt fa-1x "  aria-hidden="false"></i></span>  
    <span ng-if="$index == selectedIndex && !isPushSuccess">Connecting<i  class="fas fa-spinner fa-spin "  aria-hidden="false"></i></span>
<span ng-if="isPushSuccess && $index == selectedIndex ">Connected</span>
</button></p>
      <div class="col-md-12" style="width:110%; padding:0px;">
          <div class="col-md-8">
          <audio id="{{item.audioId}}"
           onloadedmetadata="angular.element(document.getElementById('scopeOfChannel')).scope().onLoad(this.id)"
          
           onpause="angular.element(document.getElementById('scopeOfChannel')).scope().onPause(this.id)" 
           onplay="angular.element(document.getElementById('scopeOfChannel')).scope().onPlay(this.id)" controls>
          <source src="{{item.audioUrl}}" type="audio/ogg">
          <source src="{{item.audioUrl}}" type="audio/mpeg">
            
        Your browser does not support the audio element.
        </audio> 
    </div>
        <div class ="col-md-4">
                <button class="btn marginDrop"  style="background-color: transparent; box-shadow: none; padding:0px;"><i class="fas fa-headphones fa-2x marginDrop" id="defaultWorkspace" style="cursor: pointer;" ng-click="panner(item.audioId,0)" aria-hidden="false"></i></button>
                    <button id="{{item.audioId}}l" class = "btn btn-default marginDrop" ng-click="panner(item.audioId,-1)">L</button> 
                    
                    <button id="{{item.audioId}}r" class = "btn btn-default marginDrop" ng-click="panner(item.audioId,1)">R</button>     
                <div class="row" style="padding-top:8px;">
                        <input style="width: 70%;"type="range" class="custom-range" min="-1" max="1" step="0.1" value="0" oninput="angular.element(document.getElementById('scopeOfChannel')).scope().pannerSlider(this.id,this.value)" id="custom-panner-{{item.audioId}}">
                </div>        
                </div>
    </div>
   
   
          
    
            <hr/>
    
      
      </span>
      <!-- <ng-audio-recorder id='audioInput' on-record-complete="stop(recorder.audioModel)" audio-model='recordedInput' convert-mp3 on-conversion-complete="completedConv()" >
            <div ng-if="recorder.isConverting">converting</div>
            <div ng-if="recorder.isAvailable">
              <button ng-click="recorder.startRecord()" type="button" ng-disabled="recorder.status.isRecording">
                  Start Record
              </button>
              <button ng-click="recorder.stopRecord()" type="button" ng-disabled="recorder.status.isRecording === false">
                  Stop Record
              </button>
              <button ng-click="recorder.playbackRecording()" type="button"
                      ng-disabled="recorder.status.isRecording || !recorder.audioModel">
                  Play Back
              </button>
            </div>
          
            <div ng-if="!recorder.isAvailable">
              Message for users when recording is not possible.
            </div>
           
          </ng-audio-recorder>
          <div ng-if="recordedInput">
            <audio controls>
                    <source src="{{recordedUrl}}" type="audio/ogg">
                    <source src="{{recordedUrl}}" type="audio/mpeg">
                  Your browser does not support the audio element.
                  </audio></div> 

                  <div>sgdhuaijkolp;[</div>
                  
            -->
      
      </div>
